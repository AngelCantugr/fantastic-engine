# OpenAI Configuration
OPENAI_API_KEY=your-openai-api-key-here
MODEL_NAME=gpt-4-turbo-preview
TEMPERATURE=0.7
MAX_TOKENS=2000

# LangChain Configuration (Optional)
LANGCHAIN_API_KEY=your-langchain-api-key
LANGCHAIN_TRACING_V2=true
LANGCHAIN_PROJECT=self-improving-agent

# Database Configuration
DATABASE_URL=sqlite:///./self_improving_agent.db
# Or for PostgreSQL:
# DATABASE_URL=postgresql://user:password@localhost/self_improving_agent

# Learning Configuration
MIN_FEEDBACK_FOR_UPDATE=20  # Minimum feedback samples before updating prompts
AB_TEST_SAMPLE_SIZE=100  # Sample size for A/B tests
IMPROVEMENT_THRESHOLD=0.1  # 10% improvement required to adopt new strategy
ROLLBACK_THRESHOLD=-0.05  # 5% degradation triggers automatic rollback
LEARNING_RATE=0.1  # Rate of prompt adjustment

# A/B Testing Configuration
ENABLE_AB_TESTING=true
DEFAULT_TRAFFIC_SPLIT=0.5  # 50/50 split
MIN_CONFIDENCE_LEVEL=0.95  # 95% confidence required
MAX_TEST_DURATION=7  # days

# Metrics Configuration
TRACK_COST=true
TRACK_LATENCY=true
TRACK_TOKEN_USAGE=true
METRICS_WINDOW=7  # days of metrics to keep in memory
ENABLE_PROMETHEUS_METRICS=true
PROMETHEUS_PORT=9092

# Feedback Configuration
ENABLE_IMPLICIT_SIGNALS=true
REQUEST_FEEDBACK_PROBABILITY=0.3  # 30% of responses request explicit feedback
MIN_RATING=1
MAX_RATING=5
DEFAULT_RATING_THRESHOLD=4  # Rating >= 4 considered success

# Prompt Evolution Configuration
MAX_PROMPT_VERSIONS=10  # Keep last 10 versions
PROMPT_UPDATE_FREQUENCY=24  # hours
ENABLE_AUTO_OPTIMIZATION=true
SAFETY_CONSTRAINTS_REQUIRED=true  # Always maintain safety constraints

# Strategy Configuration
ENABLE_MULTI_STRATEGY=true
MAX_ACTIVE_STRATEGIES=5
STRATEGY_EVALUATION_INTERVAL=100  # requests

# Rollback Configuration
ENABLE_AUTO_ROLLBACK=true
ROLLBACK_ON_ERROR_SPIKE=true
ERROR_SPIKE_THRESHOLD=0.2  # 20% error rate
ROLLBACK_COOLDOWN=3600  # 1 hour

# Logging Configuration
LOG_LEVEL=INFO  # DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_FORMAT=json  # json, text
LOG_OUTPUT=console  # console, file, both
LOG_FILE=./self_improving_agent.log

# Analysis Configuration
ENABLE_FAILURE_ANALYSIS=true
ANALYZE_LOW_RATINGS=true  # Analyze ratings < 3
PATTERN_DETECTION_MIN_SAMPLES=10

# Cache Configuration
ENABLE_RESPONSE_CACHE=false
CACHE_TTL=3600  # 1 hour

# Development/Testing
DEV_MODE=false
MOCK_LLM_RESPONSES=false
ENABLE_DEBUG_LOGGING=false
